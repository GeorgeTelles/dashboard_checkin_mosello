๐ COMANDOS FINAIS ANTES DE DEPLOY
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Execute na ordem:

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1๏ธโฃ INSTALAR DEPENDรNCIAS
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

npm install

โ Isso vai:
   - Instalar todas as dependรชncias (React, Express, PostgreSQL driver, etc)
   - Criar package-lock.json (necessรกrio para reproduzibilidade)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

2๏ธโฃ TESTAR LOCALMENTE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# Terminal 1: Backend
npm run dev:server

# Terminal 2: Frontend
npm run dev

โ Verificar:
   - Backend em http://localhost:3001/api/test-connection
   - Frontend em http://localhost:5173
   - Dados carregando do PostgreSQL

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

3๏ธโฃ TESTAR BUILD PARA PRODUรรO
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

npm run build

โ Isso cria:
   - /dist com frontend compilado
   - Tudo pronto para Docker

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

4๏ธโฃ TESTAR IMAGEM DOCKER LOCALMENTE (OPCIONAL)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

docker build -t mosello-dashboard:latest .

docker run -p 3001:3001 \
  -e DB_HOST=84.46.246.201 \
  -e DB_PORT=5433 \
  -e DB_NAME=checkin \
  -e DB_USER=admin 
  -e PORT=3001 \
  mosello-dashboard:latest

โ Testar:
   curl http://localhost:3001/api/test-connection

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

5๏ธโฃ VERIFICAR GITIGNORE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

cat .gitignore

โ Deve conter:
   - node_modules/
   - dist/
   - .env (arquivo, nรฃo .env.example!)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

6๏ธโฃ PREPARAR GIT
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

git status

โ Verificar se estรก correto (nรฃo incluir node_modules, dist, .env)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

7๏ธโฃ FAZER COMMIT
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

git add .

git commit -m "Production: Express + Vite + PostgreSQL integration ready for Portainer"

โ Mensagem boa para descrever as mudanรงas

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

8๏ธโฃ PUSH PARA GITHUB
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

git push origin main

โ Cรณdigo agora estรก no GitHub!
โ Pronto para Portainer fazer deploy

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

9๏ธโฃ DEPLOY NO PORTAINER
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. Abra Portainer
2. Stacks โ Add Stack
3. Build method: Git Repository
4. Repository URL: seu repositรณrio
5. Compose path: docker-compose.yml
6. Environment: Adicione as variรกveis do .env.example
7. Deploy!

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ VERIFICAR LOGS
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

No Portainer:
  1. Containers
  2. Clique em mosello-dashboard
  3. Ver logs
  
Deve mostrar:
  โ "Servidor rodando na porta 3001"
  โ Health check passando
  โ Sem erros de conexรฃo

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ TESTAR APรS DEPLOY
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# Via HTTP
curl https://dashboard.mosello.net.br/api/test-connection

# Via HTTPS (se usar SSL)
curl https://dashboard.mosello.net.br

โ Deve retornar seu dashboard ou erro JSON (ok)
โ Nรฃo deve dar erro de conexรฃo

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ RESUMO

Passos: 10
Tempo: ~20 minutos
Resultado: Dashboard em produรงรฃo! ๐

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ DรVIDAS?

1. npm run build nรฃo funciona?
   โ Verificar se tem typescript e vite instalados
   โ npm install

2. Docker build falha?
   โ Verificar Dockerfile
   โ Verificar se package.json estรก correto

3. Portainer nรฃo encontra docker-compose.yml?
   โ Verificar se arquivo existe na raiz
   โ Verificar path no Portainer

4. Container nรฃo inicia?
   โ Ver logs no Portainer
   โ Verificar environment variables
   โ Testar npm run server local

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โจ BOA SORTE! ๐
